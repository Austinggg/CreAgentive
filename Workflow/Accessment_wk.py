# 现在我要做一个对AI生成的小说进行自动化评估的工作流
# 评价指标：
# ●相关性（Relevance）评估故事与输入前提的契合程度，是否紧扣主题设定。
# ●连贯性（Coherence）评估故事情节是否逻辑一致、自然流畅，是否存在矛盾或断裂。（章节内+章节间）
# ●共情性（Empathy）评估故事是否能引发读者情感共鸣，角色是否真实可信。
# ●惊喜性（Surprise）评估故事是否包含出人意料的情节转折或巧妙设定。
# ●创造力（Creativity）评估故事是否具有原创性，是否避免套路化或重复内容。
# ●复杂性（Complexity）评估故事结构是否丰富多层，情节与人物关系是否交织紧密。（知识图谱）
# ●沉浸性（Immersion）评估故事环境与设定是否真实细致，是否能让读者产生代入感。
# 我现在已经有的文件：十章由AI写的小说
# 自动化评估
# 模型之间的差异：
# 对于同一个故事，模型的情节描述是否丰富，比如：都拿到“A通过高考最终考到了好大学“，不同的模型描述，有的是说，A先高一谈恋爱耽搁了成绩，但是之后醒悟了，在之后两年奋发图强，最终考到好大学。有的模型说：A经过三年的奋斗，由于偏科，导致第一次高考失误，经历了一年的复读补齐了短板，最终考到了好大学，类似于这样。但是不加修饰的情节概要就是A通过高考最终考到了好大学。
# 拿到每一章的内容要进行一个表面指标提炼，
# 我们将评估分为局部评分和全局评分。
# 局部评分：
# few-shot
# 惊喜性、共情性、沉浸性、相关性、连贯性、复杂性、创造性。我们以工作流的方式构建。首先、需要一个智能体单独提取每一章节的表面特征（包括：不加修饰的故事情节概要（包括人物、地点、事件、事件结果），章节结束后当前世界的客观条件（包括：物资数量等等））、然后基于前面的情节表面特征（...）和当前章节的内容，对通过人物塑造、情节场景塑造等等来评估那几个指标：
# 局部评分工作流，在每一章节评估中，LLM的输入是之前章节提取到的表面特征以及本章的全部内容。输出的内容包含：该章节的表面特征以及局部评分，将表面特征加入到一个全局变量中，局部评分也记录下来。
# 局部评分结束后获得每一章节的七大局部指标评分，以及一个包含所有章节的表面特征的全局变量。这个全局变量包含了每一章的情节概要、人物、地点、事件等信息，作为后续全局评分的输入。
# 全局评分：
# 之前对于每一章提取出来的表面特征存入了一个全局变量，作为输入，总体分析七大指标。输出是全局指标的评分
# 将局部评分进行算数平均求和，然后和全局评分进行加权平均，得到最终的综合评分，权重自己设置。
# 具体实现，创建一个循环，每一次循环，调用API进行全局表面特征提取，然后进行局部评分，输入为每一章章节内容，以及之前章节的表面特征。输出的内容包含：该章节的表面特征以及局部评分，将表面特征加入到一个全局变量中，局部评分也记录下来。循环结束后，得到各个章节的局部评分，进行算数平均。将包含全部章节的表面特征内容输入给另一个LLM进行全局评估，最后将结果加权平均。
# 第一步先初始化智能# 体
\\\\\\\gent =


